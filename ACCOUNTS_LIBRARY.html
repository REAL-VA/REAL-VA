<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/png" href="Screenshot 2025-05-13 102633.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REAL VA</title>
    <style>
       body {
    font-family: 'Arial', sans-serif;
    background-color: #4a0a81;
    color: #ffffff;
    text-align: center;
    margin: 0;
    padding: 20px;
}

h2 {
    color: #e0ccf0;
    margin-bottom: 25px;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
}

th, td {
    border: 1px solid #7d40b0;
    padding: 12px;
    text-align: left;
}

th {
    background-color: #3a0761;
    color: white;
}

tr {
    background-color: #5a0f91;
}

tr:nth-child(even) {
    background-color: #4a0a81;
}

tr:hover {
    background-color: #7d40b0;
}

.delete-btn {
    background-color: #4a0a81;
    color: white;
    border: 1px solid #e0ccf0;
    padding: 8px 12px;
    cursor: pointer;
    border-radius: 4px;
    transition: background-color 0.3s;
}

.delete-btn:hover {
    background-color: #3a0761;
}

.back-btn {
    background-color: #3a0761;
    color: white;
    border: 1px solid #e0ccf0;
    padding: 10px 15px;
    cursor: pointer;
    border-radius: 4px;
    margin-top: 20px;
    transition: background-color 0.3s;
}

.back-btn:hover {
    background-color: #2a0541;
}

.message {
    color: #e0ccf0;
    margin-top: 20px;
    font-weight: bold;
}
    </style>
</head>
<body>

    <h2>Accounts Library</h2>
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Password</th>
                <th>Registered At</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody id="accountsTableBody"></tbody>
    </table>

    <div class="message" id="message"></div>

    <button class="back-btn" onclick="goBack()">Back to Dashboard</button>

    <script>
        function loadAccounts() {
            const accountsLibrary = JSON.parse(localStorage.getItem("accountsLibrary")) || [];
            const tableBody = document.getElementById("accountsTableBody");
            const message = document.getElementById("message");
            tableBody.innerHTML = "";
            message.innerHTML = ""; // Clear previous messages

            if (accountsLibrary.length === 0) {
                message.innerHTML = "No accounts found in the library.";
            } else {
                accountsLibrary.forEach((account, index) => {
                    const row = `<tr>
                        <td>${account.name}</td>
                        <td>${account.email}</td>
                        <td>${account.password}</td>
                        <td>${account.registeredAt}</td>
                        <td><button class="delete-btn" onclick="deleteAccount(${index})">Delete</button></td>
                    </tr>`;
                    tableBody.innerHTML += row;
                });
            }
        }

        function deleteAccount(index) {
            if (confirm("Are you sure you want to delete this account?")) {
                let accountsLibrary = JSON.parse(localStorage.getItem("accountsLibrary")) || [];
                let users = JSON.parse(localStorage.getItem("users")) || [];

                const accountToDelete = accountsLibrary[index];

                // Remove from accountsLibrary
                accountsLibrary.splice(index, 1);
                localStorage.setItem("accountsLibrary", JSON.stringify(accountsLibrary));

                // Remove from users list
                users = users.filter(user => user.email !== accountToDelete.email);
                localStorage.setItem("users", JSON.stringify(users));

                alert("Account deleted successfully.");
                loadAccounts();
            }
        }

        function goBack() {
            window.location.href = "admin-dashboard.html"; // Redirect to DASHBOARD.html
        }

        // Sample function to add accounts for testing (remove in production)
        function addSampleAccounts() {
            const sampleAccounts = [
                { name: "John Doe", email: "john@example.com", password: "password123", registeredAt: new Date().toLocaleString() },
                { name: "Jane Smith", email: "jane@example.com", password: "password456", registeredAt: new Date().toLocaleString() }
            ];
            localStorage.setItem("accountsLibrary", JSON.stringify(sampleAccounts));
            loadAccounts();
        }

        document.addEventListener("DOMContentLoaded", loadAccounts);
        // Uncomment the line below to add sample accounts for testing
        // addSampleAccounts();
    </script>

</body>
</html>
